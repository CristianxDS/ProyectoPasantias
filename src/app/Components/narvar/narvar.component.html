<header class="sticky top-0 z-50">
  <nav class="bg-white/95 dark:bg-slate-900/95 backdrop-blur border-b border-slate-200/60 dark:border-slate-800">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex h-16 items-center justify-between">

        <!-- Brand -->
        <a routerLink="/home" (click)="scrollTop()" class="flex items-center gap-3">
          <img src="\assets\image\EmoKids1.png" class="h-9 w-9 rounded-full ring-1 ring-slate-200 dark:ring-slate-700" alt="EmoKids">
          <span class="text-xl sm:text-2xl font-extrabold tracking-tight text-slate-800 dark:text-white">EmoKids</span>
        </a>

        <!-- Desktop nav -->
        <ul class="hidden md:flex items-center gap-7 text-[15px]">
          <!-- Educación (indigo) -->
          <li class="relative group">
            <a routerLink="/educacion" (click)="scrollTop()"
               #eduRLA="routerLinkActive"
               routerLinkActive="text-indigo-600 dark:text-indigo-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Educación Emocional
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="eduRLA.isActive ? 'bg-indigo-600 scale-x-100' : 'bg-indigo-600'"></span>
            </a>
          </li>

          <!-- Autocuidado (verde) -->
          <li class="relative group">
            <a routerLink="/autocuidado" (click)="scrollTop()"
               #autoRLA="routerLinkActive"
               routerLinkActive="text-emerald-600 dark:text-emerald-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Autocuidado
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="autoRLA.isActive ? 'bg-emerald-600 scale-x-100' : 'bg-emerald-600'"></span>
            </a>
          </li>

          <!-- Ansiedad (violeta) -->
          <li class="relative group">
            <a routerLink="/ansiedad" (click)="scrollTop()"
               #ansRLA="routerLinkActive"
               routerLinkActive="text-violet-600 dark:text-violet-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Ansiedad Escolar
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="ansRLA.isActive ? 'bg-violet-600 scale-x-100' : 'bg-violet-600'"></span>
            </a>
          </li>

          <!-- Autoestima (ámbar) -->
          <li class="relative group">
            <a routerLink="/autoestima" (click)="scrollTop()"
               #estRLA="routerLinkActive"
               routerLinkActive="text-amber-600 dark:text-amber-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Autoestima
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="estRLA.isActive ? 'bg-amber-500 scale-x-100' : 'bg-amber-500'"></span>
            </a>
          </li>

          <!-- Bullying (rosa) -->
<li class="relative group">
  <a
    routerLink="/bullying"
    #bulRLA="routerLinkActive"
    routerLinkActive="text-red-600 dark:text-red-400 font-semibold"
    [routerLinkActiveOptions]="{ exact: true }"
    (click)="scrollTop()"
    class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition relative"
  >
    Bullying
    <!-- Línea roja -->
    <span
      class="pointer-events-none absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
      [ngClass]="bulRLA.isActive ? 'bg-red-600 scale-x-100' : 'bg-red-600'"
    ></span>
  </a>
</li>


          <!-- Comunidad (celeste) -->
          <li class="relative group">
            <a routerLink="/comunidad" (click)="scrollTop()"
               #comRLA="routerLinkActive"
               routerLinkActive="text-sky-600 dark:text-sky-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Comunidad
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="comRLA.isActive ? 'bg-sky-600 scale-x-100' : 'bg-sky-600'"></span>
            </a>
          </li>

          <!-- Ayuda (cian) -->
          <li class="relative group">
            <a routerLink="/ayuda" (click)="scrollTop()"
               #ayRLA="routerLinkActive"
               routerLinkActive="text-cyan-600 dark:text-cyan-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Ayuda
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="ayRLA.isActive ? 'bg-cyan-600 scale-x-100' : 'bg-cyan-600'"></span>
            </a>
          </li>

          <!-- Talleres (fucsia) -->
          <li class="relative group">
            <a routerLink="/talleres" (click)="scrollTop()"
               #talRLA="routerLinkActive"
               routerLinkActive="text-fuchsia-600 dark:text-fuchsia-400 font-semibold"
               [routerLinkActiveOptions]="{exact:true}"
               class="text-slate-700 dark:text-slate-200 hover:text-slate-900 dark:hover:text-white transition">
              Talleres
              <span class="absolute left-0 right-0 -bottom-1 h-[2px] origin-center scale-x-0 transition-transform group-hover:scale-x-100"
                    [ngClass]="talRLA.isActive ? 'bg-fuchsia-600 scale-x-100' : 'bg-fuchsia-600'"></span>
            </a>
          </li>
        </ul>


        <!-- Mobile button -->
        <button type="button"
                class="md:hidden rounded-md p-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800"
                aria-controls="mobile-menu" [attr.aria-expanded]="isOpen" (click)="toggleMenu()">
          <svg class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path *ngIf="!isOpen" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
            <path *ngIf="isOpen"  stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobile-menu"
         class="md:hidden overflow-hidden transition-all duration-300"
         [class.max-h-0]="!isOpen" [class.max-h-[520px]]="isOpen"
         [class.opacity-0]="!isOpen" [class.opacity-100]="isOpen">
      <div class="px-4 pt-2 pb-6 space-y-1">
        <a routerLink="/educacion"  (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Educación Emocional</a>
        <a routerLink="/autocuidado" (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Autocuidado</a>
        <a routerLink="/ansiedad"    (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Ansiedad Escolar</a>
        <a routerLink="/autoestima"  (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Autoestima</a>
        <a routerLink="/bullying"    (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Bullying</a>
        <a routerLink="/comunidad"   (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Comunidad</a>
        <a routerLink="/ayuda"       (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Ayuda</a>
        <a routerLink="/talleres"    (click)="closeMenu(); scrollTop()" class="block rounded-md px-3 py-2 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800">Talleres</a>
        <a routerLink="/login"       (click)="closeMenu(); scrollTop()" class="mt-2 block rounded-lg bg-indigo-600 text-white px-4 py-2 text-center font-medium hover:bg-indigo-500 transition">Iniciar sesión</a>
      </div>
    </div>
  </nav>
</header>

<script>
  document.getElementById('menu-toggle').addEventListener('click', function () {
    const menu = document.getElementById('mobile-menu');
    menu.classList.toggle('hidden');
  });
</script>
